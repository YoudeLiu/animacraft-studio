 # AnimaCraft Studio - Chrome DevTools æ’ä»¶åŸå‹å›¾æè¿°

## æ¦‚è¿°

æœ¬åŸå‹å›¾æè¿°äº† AnimaCraft Studio æ’ä»¶çš„ä¸»è¦ç•Œé¢å’Œäº¤äº’æµç¨‹ï¼Œæ—¨åœ¨ä¸ºè®¾è®¡å¸ˆå’Œå¼€å‘è€…æä¾›ä¸€ä¸ªå…±åŒçš„åŠ¨ç”»è°ƒè¯•ä¸ä¼˜åŒ–å¹³å°ã€‚

## 1. ä¸» DevTools é¢æ¿ (AnimaCraft Studio Tab)

å½“ç”¨æˆ·åœ¨ Chrome DevTools ä¸­é€‰æ‹© "AnimaCraft Studio" æ ‡ç­¾é¡µæ—¶ï¼Œå°†çœ‹åˆ°ä»¥ä¸‹ä¸»å¸ƒå±€ã€‚

```
+--------------------------------------------------------------------------+
| AnimaCraft Studio                                                        |
+--------------------------------------------------------------------------+
| [ State Machine (XState) ]  [ Animation Editor (GSAP) ]                  |
|                                                                          |
+--------------------------------------------------------------------------+
|                                                                          |
|                        [   å†…å®¹åŒºåŸŸ (æ ¹æ®é€‰å®šTabåˆ‡æ¢)   ]                 |
|                                                                          |
|                                                                          |
|                                                                          |
|                                                                          |
+--------------------------------------------------------------------------+
```

*   **é¡¶éƒ¨**: æ’ä»¶åç§° "AnimaCraft Studio"ã€‚
*   **Tabå¯¼èˆª**: ä¸¤ä¸ªä¸»è¦æ ‡ç­¾é¡µï¼š
    *   `State Machine (XState)`: ç”¨äºæŸ¥çœ‹ XState çŠ¶æ€æœºã€‚
    *   `Animation Editor (GSAP)`: ç”¨äºç¼–è¾‘å’Œè°ƒè¯• GSAP åŠ¨ç”»ã€‚
*   **å†…å®¹åŒºåŸŸ**: æ ¹æ®å½“å‰é€‰ä¸­çš„ Tab æ˜¾ç¤ºç›¸åº”çš„å†…å®¹ã€‚

## 2. State Machine (XState) è§†å›¾

é€‰ä¸­ `State Machine (XState)` Tab åçš„ç•Œé¢ã€‚

```
+--------------------------------------------------------------------------+
| AnimaCraft Studio                                                        |
+--------------------------------------------------------------------------+
| [ State Machine (XState) ]  [ Animation Editor (GSAP) ]                  |
+--------------------------------------------------------------------------+
| State Machine Viewer                                                     |
| +----------------------------------------------------------------------+ |
| | Machine: [ Dropdown: select_machine_instance â–¼ ]                     | |
| +----------------------------------------------------------------------+ |
| |                                                                      | |
| |  +---------------------+      event_name      +---------------------+  | |
| |  |      State A        |--------------------->|      State B        |  | |
| |  | (current_state_ aktywny) |                     |                     |  | |
| |  +---------------------+                      +---------------------+  | |
| |         ^      |                                        |            | |
| |         |      | event_x                                | event_y    | |
| |         +------+                                        v            | |
| |  +---------------------+                                               | |
| |  |      State C        |                                               | |
| |  +---------------------+                                               | |
| |                                                                      | |
| | (å¯è§†åŒ–çŠ¶æ€å›¾åŒºåŸŸï¼ŒèŠ‚ç‚¹å¯æ‹–åŠ¨ï¼Œå½“å‰çŠ¶æ€é«˜äº®)                             | |
| |                                                                      | |
| +----------------------------------------------------------------------+ |
| Optional: Event Log                                                      |
| +----------------------------------------------------------------------+ |
| | [Timestamp] [Event] [From State] [To State]                          | |
| | ...                                                                  | |
| +----------------------------------------------------------------------+ |
+--------------------------------------------------------------------------+
```

*   **æ ‡é¢˜**: "State Machine Viewer"ã€‚
*   **Machine Selector**: ä¸€ä¸ªä¸‹æ‹‰èœå• (`select_machine_instance`)ï¼Œç”¨äºåœ¨é¡µé¢æ³¨å†Œäº†å¤šä¸ª XState å®ä¾‹æ—¶è¿›è¡Œé€‰æ‹©ã€‚
*   **å¯è§†åŒ–çŠ¶æ€å›¾åŒºåŸŸ**: 
    *   ä»¥å›¾å½¢æ–¹å¼å±•ç¤ºçŠ¶æ€ (çŸ©å½¢èŠ‚ç‚¹ï¼Œå¦‚ `State A`, `State B`) å’Œè½¬æ¢ (å¸¦äº‹ä»¶åç§°çš„ç®­å¤´)ã€‚
    *   å½“å‰æ¿€æ´»çš„çŠ¶æ€ä¼šè¢«é«˜äº®æ˜¾ç¤º (ä¾‹å¦‚ï¼Œé€šè¿‡ä¸åŒçš„è¾¹æ¡†é¢œè‰²æˆ–èƒŒæ™¯)ã€‚
    *   æ˜¾ç¤ºçŠ¶æ€åç§°ã€è½¬æ¢äº‹ä»¶åç§°ã€‚
*   **(å¯é€‰) Event Log**: ä¸€ä¸ªæ—¥å¿—åŒºåŸŸï¼Œæ˜¾ç¤ºæœ€è¿‘çš„çŠ¶æ€è½¬æ¢å†å²ï¼ŒåŒ…æ‹¬æ—¶é—´æˆ³ã€è§¦å‘çš„äº‹ä»¶ã€æºçŠ¶æ€å’Œç›®æ ‡çŠ¶æ€ã€‚

## 3. Animation Editor (GSAP) è§†å›¾

é€‰ä¸­ `Animation Editor (GSAP)` Tab åçš„ç•Œé¢ã€‚

```
+--------------------------------------------------------------------------+
| AnimaCraft Studio                                                        |
+--------------------------------------------------------------------------+
| [ State Machine (XState) ]  [ Animation Editor (GSAP) ]                  |
+--------------------------------------------------------------------------+
| Animation Editor (GSAP)                                                  |
| +----------------------------------------------------------------------+ |
| | Timeline: [ Dropdown: select_gsap_timeline â–¼ ]                       | |
| | Controls: [â–¶ Play] [âšâš Pause] [â†º Restart] Speed: [Slider 0.1x-2x]   | |
| | Tools:    [ğŸ¯ Pick Element]  [ Export GSAP Code ]                    | |
| +----------------------------------------------------------------------+ |
| |                                                                      | |
| | [ Timeline View (å·¦ä¾§) ]             [ Properties Panel (å³ä¾§) ]       | |
| | +-------------------------+          +-----------------------------+ | |
| | | Tween1 [.avatar]        |          | Target: .avatar             | | |
| | | [|||||||duration|||||||] |          | Duration: [ 0.5 ]s          | | |
| | | Tween2 [.username]      |          | Ease: [power1.out â–¼]        | | |
| | |      [|||||duration|||]  |          |                             | | |
| | | ...                     |          | Properties:                 | | |
| | | (æ¨ªå‘æ³³é“è¡¨ç¤ºä¸åŒtween) |          |  +[Add Property]            | | |
| | | (å¯ç‚¹é€‰tween)           |          |  - x: [ 100 ]px             | | |
| | |                         |          |  - opacity: [ 1 ]           | | |
| | |                         |          |  - color: [#FFFFF _]        | | |
| | |                         |          |  ...                        | | |
| | |                         |          | Position (Timeline): [ <=>] | | |
| | +-------------------------+          +-----------------------------+ | |
| |                                [ Add New Tween to Timeline ]         | |
| +----------------------------------------------------------------------+ |
+--------------------------------------------------------------------------+
```

### 3.1 é¡¶éƒ¨å·¥å…·æ 
*   **Timeline Selector**: ä¸‹æ‹‰èœå• (`select_gsap_timeline`)ï¼Œåˆ—å‡ºé¡µé¢ä¸­å·²æ³¨å†Œçš„GSAP Timelineå®ä¾‹åç§°ã€‚
*   **Global Debug Controls**: é’ˆå¯¹å½“å‰é€‰ä¸­çš„Timeline:
    *   `Play`, `Pause`, `Restart` æŒ‰é’®ã€‚
    *   `Speed` æ§åˆ¶æ»‘å—æˆ–è¾“å…¥æ¡†ï¼Œç”¨äºè°ƒæ•´åŠ¨ç”»æ’­æ”¾é€Ÿç‡ (ä¾‹å¦‚ `gsap.globalTimeline.timeScale()`)ã€‚
*   **Tools**:
    *   `Pick Element` (ğŸ¯å›¾æ ‡): ç‚¹å‡»åå…è®¸ç”¨æˆ·åœ¨è¢«å®¡æŸ¥é¡µé¢ä¸Šé€‰æ‹©ä¸€ä¸ªDOMå…ƒç´ ï¼Œç”¨äºåˆ›å»ºæ–°åŠ¨ç”»æˆ–ä½œä¸ºç°æœ‰åŠ¨ç”»çš„æ–°ç›®æ ‡ã€‚
    *   `Export GSAP Code` æŒ‰é’®: å¯¼å‡ºå½“å‰ç¼–è¾‘çš„Timelineçš„GSAPä»£ç ã€‚ 

### 3.2 ä¸»è¦ç¼–è¾‘åŒºåŸŸ (å·¦å³åˆ†æ )

#### 3.2.1 å·¦ä¾§: Timeline View
*   å¯è§†åŒ–å±•ç¤ºå½“å‰é€‰ä¸­çš„GSAP Timelineã€‚
*   ä»¥æ³³é“æˆ–å †å æ¡ç›®çš„å½¢å¼å±•ç¤ºTimelineä¸­çš„å„ä¸ª `tween`ã€‚
*   æ¯ä¸ª `tween` æ¡ç›®åº”æ˜¾ç¤ºå…¶ç›®æ ‡é€‰æ‹©å™¨ (å¦‚ `.avatar`) å’Œå¤§è‡´çš„æŒç»­æ—¶é—´æ¡ã€‚
*   å…è®¸ç”¨æˆ·ç‚¹å‡»é€‰æ‹©æŸä¸ª `tween`ï¼Œä»¥ä¾¿åœ¨å³ä¾§å±æ€§é¢æ¿ä¸­ç¼–è¾‘å…¶å‚æ•°ã€‚
*   å¯èƒ½æœ‰ä¸€ä¸ªæ’­æ”¾å¤´æŒ‡ç¤ºå½“å‰æ—¶é—´ã€‚

#### 3.2.2 å³ä¾§: Properties Panel (é’ˆå¯¹é€‰ä¸­çš„ Tween æˆ–åˆ›å»ºæ–° Tween)
*   **Target Element**: æ˜¾ç¤ºå½“å‰é€‰ä¸­ `tween` çš„ç›®æ ‡å…ƒç´  (ä¾‹å¦‚ï¼Œ`.avatar`)ã€‚å¦‚æœé€šè¿‡ `Pick Element` å·¥å…·é€‰æ‹©ï¼Œåˆ™æ›´æ–°æ­¤å¤„ã€‚
*   **Duration**: è¾“å…¥æ¡†ï¼Œç”¨äºè®¾ç½® `tween` çš„æŒç»­æ—¶é—´ (å•ä½ï¼šç§’)ã€‚
*   **Ease**: ä¸‹æ‹‰èœå•ï¼Œé€‰æ‹©GSAPçš„ç¼“åŠ¨å‡½æ•° (å¦‚ `power1.out`, `elastic.inOut`, `none` ç­‰)ã€‚
*   **Properties List**: 
    *   ä¸€ä¸ªå¯åŠ¨æ€æ·»åŠ /åˆ é™¤åŠ¨ç”»å±æ€§çš„åˆ—è¡¨ã€‚
    *   æ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªCSSå±æ€§ï¼Œä¾‹å¦‚ï¼š
        *   `x: [ 100 ] px` (å±æ€§åï¼Œå€¼è¾“å…¥æ¡†ï¼Œå•ä½)
        *   `opacity: [ 1 ]`
        *   `scale: [ 1.5 ]`
        *   `backgroundColor: [ #ff0000 ]` (å¸¦é¢œè‰²é€‰æ‹©å™¨)
    *   `[+ Add Property]` æŒ‰é’®å…è®¸ç”¨æˆ·æ·»åŠ æ–°çš„CSSå±æ€§è¿›è¡ŒåŠ¨ç”»ã€‚
*   **Position Parameter (Timeline)**: è¾“å…¥æ¡†ï¼Œç”¨äºè®¾ç½® `tween`åœ¨Timelineä¸­çš„ç›¸å¯¹ä½ç½® (å¦‚ `"<"`, `">+0.2"`, `"-=0.5"`)ï¼Œè¿™æ˜¯GSAP Timelineçš„é«˜çº§å®šä½å‚æ•°ã€‚
*   **`[ Add New Tween to Timeline ]` æŒ‰é’®**: å¦‚æœæ²¡æœ‰é€‰ä¸­ç°æœ‰tweenï¼Œæˆ–è€…ç”¨æˆ·æƒ³ä¸»åŠ¨æ·»åŠ ï¼Œæ­¤æŒ‰é’®ä¼šåŸºäºå½“å‰å±æ€§é¢æ¿çš„è®¾ç½®ï¼ˆæˆ–ä¸€ä¸ªæ–°æ¨¡æ¿ï¼‰åœ¨å½“å‰Timelineçš„æœ«å°¾ï¼ˆæˆ–æŒ‡å®šä½ç½®ï¼‰æ·»åŠ ä¸€ä¸ªæ–°çš„ `tween`ã€‚

## 4. äº¤äº’æµç¨‹ç®€è¿°

### 4.1 æŸ¥çœ‹çŠ¶æ€æœº
1.  ç”¨æˆ·æ‰“å¼€AnimaCraft Studioï¼Œé»˜è®¤æˆ–é€‰æ‹© `State Machine (XState)` Tabã€‚
2.  æ’ä»¶ä»é¡µé¢åŠ è½½XStateå®ä¾‹ä¿¡æ¯å¹¶æ¸²æŸ“çŠ¶æ€å›¾ã€‚
3.  ç”¨æˆ·é€šè¿‡çŠ¶æ€å›¾ç†è§£åŠ¨ç”»é€»è¾‘ï¼Œå½“å‰çŠ¶æ€é«˜äº®æ˜¾ç¤ºã€‚

### 4.2 ç¼–è¾‘GSAPåŠ¨ç”»
1.  ç”¨æˆ·åˆ‡æ¢åˆ° `Animation Editor (GSAP)` Tabã€‚
2.  ä»Timelineä¸‹æ‹‰èœå•ä¸­é€‰æ‹©ä¸€ä¸ªè¦ç¼–è¾‘çš„GSAP Timelineã€‚
3.  å·¦ä¾§Timeline Viewæ˜¾ç¤ºè¯¥Timelineçš„ç»“æ„ã€‚
4.  ç”¨æˆ·ç‚¹å‡»Timeline Viewä¸­çš„æŸä¸ª `tween`ã€‚
5.  å³ä¾§Properties PanelåŠ è½½å¹¶æ˜¾ç¤ºè¯¥ `tween` çš„å‚æ•°ã€‚
6.  ç”¨æˆ·ä¿®æ”¹å‚æ•° (å¦‚duration, ease, x, opacity)ã€‚ä¿®æ”¹åº”å°½å¯èƒ½å®æ—¶åæ˜ åœ¨è¢«å®¡æŸ¥é¡µé¢çš„åŠ¨ç”»ä¸Š (Content Scriptå°†ä¿®æ”¹åº”ç”¨åˆ°å®é™…GSAPå®ä¾‹)ã€‚
7.  ç”¨æˆ·å¯ä»¥ä½¿ç”¨é¡¶éƒ¨çš„æ’­æ”¾æ§ä»¶è°ƒè¯•åŠ¨ç”»ã€‚
8.  ç”¨æˆ·å¯ä»¥ä½¿ç”¨ `Pick Element` å·¥å…·é€‰æ‹©é¡µé¢å…ƒç´ ï¼Œç„¶åç‚¹å‡» `Add New Tween` æ¥åˆ›å»ºæ–°çš„åŠ¨ç”»æ­¥éª¤ã€‚
9.  æ»¡æ„åï¼Œç‚¹å‡» `Export GSAP Code`ï¼Œæ’ä»¶ç”Ÿæˆä»£ç ç‰‡æ®µä¾›ç”¨æˆ·ä¸‹è½½æˆ–å¤åˆ¶ã€‚

### 4.3 ä½¿ç”¨Element Pickeræ·»åŠ åŠ¨ç”»
1.  ç”¨æˆ·ç‚¹å‡» `Pick Element` (ğŸ¯) å›¾æ ‡ã€‚
2.  é¼ æ ‡åœ¨è¢«å®¡æŸ¥é¡µé¢ä¸Šç§»åŠ¨æ—¶ï¼Œå…ƒç´ ä¼šé«˜äº®ã€‚
3.  ç”¨æˆ·ç‚¹å‡»é¡µé¢ä¸Šçš„ä¸€ä¸ªå…ƒç´ ã€‚
4.  ç„¦ç‚¹å›åˆ°DevToolsæ’ä»¶ï¼ŒProperties Panelå¯èƒ½è¢«é¢„å¡«å……è¯¥å…ƒç´ ä½œä¸ºTargetï¼Œå¹¶æä¾›åŸºç¡€åŠ¨ç”»å±æ€§ä¾›ç”¨æˆ·è®¾ç½®ã€‚
5.  ç”¨æˆ·é…ç½®åŠ¨ç”»åï¼Œç‚¹å‡» `Add New Tween to Timeline`ã€‚

## 5. å¯¼å‡ºä»£ç äº¤äº’

1.  ç”¨æˆ·ç‚¹å‡» `Export GSAP Code` æŒ‰é’®ã€‚
2.  å¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†æˆ–æ–°è§†å›¾æ˜¾ç¤ºç”Ÿæˆçš„ä»£ç ç‰‡æ®µã€‚
    ```
    +--------------------------------------------------------------------------+
    | Exported GSAP Code for Timeline: 'myCoolAnimation'                       |
    +--------------------------------------------------------------------------+
    | [ Copy to Clipboard ] [ Download as .js ]                                |
    +--------------------------------------------------------------------------+
    | ```javascript                                                            |
    | // Exported from AnimaCraft Studio                                       |
    | // Timeline: myCoolAnimation                                             |
    | // Date: YYYY-MM-DD HH:MM:SS                                             |
    |                                                                          |
    | import { gsap } from 'gsap';                                            |
    |                                                                          |
    | export function playMyCoolAnimation(target) {                            |
    |   const tl = gsap.timeline({ /* original or edited defaults */ });       |
    |   tl.to(target.querySelector('.element1'), {                             |
    |     x: 150,                                                              |
    |     opacity: 0.5,                                                        |
    |     duration: 1.2,                                                       |
    |     ease: 'sine.out'                                                     |
    |   })                                                                     |
    |   .to(target.querySelector('.element2'), {                             |
    |     rotation: 360,                                                       |
    |     scale: 1.2,                                                          |
    |     duration: 0.8                                                        |
    |   }, "-=0.5");                                                            |
    |   // ... other tweens                                                    |
    |   return tl;                                                             |
    | }                                                                        |
    | ```                                                                      |
    +--------------------------------------------------------------------------+
    ```
3.  ç”¨æˆ·å¯ä»¥é€‰æ‹©å¤åˆ¶åˆ°å‰ªè´´æ¿æˆ–ä¸‹è½½ä¸º `.js` æ–‡ä»¶ã€‚

